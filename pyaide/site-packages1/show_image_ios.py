from ctypes import CDLL
import ctypes
import sys
import os

def show(path):
    sys.stdout.flush()
    gdpath = os.environ["APPDIR"] + "/Frameworks/sixel.framework/sixel"
    gd = CDLL(gdpath)
    gd.imageSixel.argtypes = [ctypes.c_char_p]
    gd.imageSixel(bytes(path, 'utf-8'))
    sys.stdout.flush()



#ImageShow.py

#class IOSViewer(Viewer):
#    """The default viewer on macOS using ``Preview.app``."""
#
#    format = "PNG"
#    options = {"compress_level": 1, "save_all": True}
#
#    def get_command(self, file, **options):
#        return ""
#
#    def show_file(self, path=None, **options):
#        """
#        Display given file.
#
#        Before Pillow 9.1.0, the first argument was ``file``. This is now deprecated,
#        and will be removed in Pillow 10.0.0 (2023-07-01). ``path`` should be used
#        instead.
#        """
#        if path is None:
#            if "file" in options:
#                deprecate("The 'file' argument", 10, "'path'")
#                path = options.pop("file")
#            else:
#                msg = "Missing required argument: 'path'"
#                raise TypeError(msg)
#        import show_image_ios as sii
#        sii.show(path)
#        return 1
#
#
#if sys.platform == "darwin":
#    register(IOSViewer)
